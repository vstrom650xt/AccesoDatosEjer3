import java.io.File;
import java.io.IOException;
import java.nio.file.Files;
import java.nio.file.Paths;
import java.util.ArrayList;
import java.util.List;

public class Main {
    public static void main(String[] args) {
        File file = new File("data.csv");
        int cont = 0;

        if (fileExist(file)) {
            String[] formated = formatSplit(formatText(readFile(file)));
            List<LineObj> objLineList = createObjList(formated);
            try {
                for (int i = 0; i < objLineList.size(); i++) {
                    if (Integer.parseInt(objLineList.get(i).getNumero_empleados()) >= 70) {
                        cont++;
                    }
                }

            } catch (Exception e) {
                e.printStackTrace();
            }


            System.out.println(cont);

        }

    }


    public static List<LineObj> createObjList(String[] formated) {
        List<LineObj> ObjList = new ArrayList<>();
        LineObj bv;
        try {

            for (int i = 0; i < formated.length; i++) {
                bv = new LineObj();
                bv.setNomLoc(formated[i]);
                bv.setDirecc(formated[i + 1]);
                bv.setCodPos(formated[i + 2]);
                bv.setCiudad(formated[i + 3]);
                bv.setClienMensual(formated[i + 4]);
                bv.setTfn(formated[i + 5]);
                bv.setNumero_empleados(formated[i + 6]);
                bv.setNumero_platos_menu(formated[i + 7]);
                ObjList.add(bv);
            }

        } catch (Exception e) {
            e.printStackTrace();
        }
        return ObjList;
    }

    public static String[] formatSplit(String text) {
        String[] texts = text.split(";");
        return texts;
    }


    //esto sobra creo
    public static String formatText(List<String> csv) {
        String sinEspacios = csv.toString();
        sinEspacios = sinEspacios.replaceAll(",", ";");
        return sinEspacios;
    }

    public static List<String> readFile(File file) {
        List<String> lineas = new ArrayList<>();
        try {
            lineas = Files.readAllLines(Paths.get(file.toURI()));
        } catch (IOException e) {
            e.printStackTrace();
        }
        return lineas;
    }

    public static boolean fileExist(File file) {
        boolean exist;
        exist = Files.exists(Paths.get(file.toURI()));
        return exist;
    }


}





//            try {
//                for (int i = 0; i < objLineList.size(); i++) {
//                    if (Integer.parseInt(objLineList.get(i).getNumero_empleados()) >= 70) {
//                        cont++;
//                    }
//                }
//
//            } catch (Exception e) {
//                e.printStackTrace();
//            }
//
//
//            System.out.println(cont);